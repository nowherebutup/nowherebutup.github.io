webpackJsonp([6],{Gjau:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("eqfM");var n,a=i("/QYm"),o=i("bOdI"),s=i.n(o),c=(i("FO5P"),i("woHG")),r=(i("i0mo"),i("Hkar")),u=(i("3Lne"),i("SSsa")),l=(i("P/b9"),i("tubq")),d=(i("MY4N"),i("0zAV")),h=i("E4LH"),f=i("BfUi"),m=i("M9A7"),b={components:(n={},s()(n,d.a.name,d.a),s()(n,l.a.name,l.a),s()(n,u.a.name,u.a),s()(n,r.a.name,r.a),s()(n,c.a.name,c.a),n),data:function(){return{phone:"",countdownShow:!1,isDisable:!1,code:"",timeDown:3e4}},methods:{initForm:function(){this.phone=f.d.forgetPhone||"",this.code=f.d.forgetCode||""},nextStep:function(){var t=this,e=Object(h.a)(this.phone);if(e)return Object(a.a)(e);if(!this.code)return Object(a.a)("请输入验证码");var i={phone:this.phone,code:this.code};this.isDisable=!0,Object(m.a)(i).then(function(e){t.isDisable=!1,e.success?(t.$router.push("/setpwd"),f.d.forgetPhone=t.phone,f.d.forgetCode=t.code):Object(a.a)(e.message||"验证码校验失败,请重试")})},timeFinish:function(){this.countdownShow=!1},onClickLeft:function(){this.$router.isBack=!0,this.$router.go(-1)},clickCode:function(){var t=Object(h.a)(this.phone);if(t)Object(a.a)(t);else if(this.countdownShow)Object(a.a)("请等待倒计时结束再次请求");else{this.countdownShow=!0;var e={telephone:this.phone};Object(m.g)(e).then(function(t){!0!==t.success&&Object(a.a)(t.message||"获取验证码失败,请重试")})}}},created:function(){this.initForm()}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"forget"},[i("van-nav-bar",{attrs:{fixed:"","left-text":"找回密码","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),i("div",{staticClass:"forget-main"},[i("div",{staticClass:"forget-main-title"},[t._v("请输入您绑定的手机号码")]),t._v(" "),i("div",{staticClass:"forget-main-desc"},[t._v("按步骤操作即可找回密码")]),t._v(" "),i("van-cell-group",{staticClass:"login-container-form",attrs:{border:!1}},[i("van-field",{attrs:{clearable:"",placeholder:"请输入手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),i("van-field",{attrs:{placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[i("van-button",{staticClass:"forget-main-code",attrs:{slot:"button",size:"small",round:""},on:{click:t.clickCode},slot:"button"},[i("span",[t._v("发送验证码")]),t._v(" "),t.countdownShow?i("div",[t._v("\n            ("),i("van-count-down",{ref:"countdown",staticClass:"forget-main-sec",attrs:{format:"ss",time:t.timeDown},on:{finish:t.timeFinish}}),t._v("秒)\n          ")],1):t._e()])],1)],1),t._v(" "),i("div",{staticClass:"forget-main-btn"},[i("van-button",{staticClass:"common-btn",attrs:{round:"",loading:t.isDisable,"loading-text":"正在校验...",disabled:t.isDisable},on:{click:t.nextStep}},[t._v("下一步")])],1)],1)],1)},staticRenderFns:[]};var p=i("VU/8")(b,v,!1,function(t){i("NpyW")},"data-v-0b40c49a",null);e.default=p.exports},NpyW:function(t,e){},"P/b9":function(t,e,i){"use strict";var n=i("nsZj"),a=(i.n(n),i("v4pe"));i.n(a)},tubq:function(t,e,i){"use strict";var n=i("o69Z"),a=i("3X7g"),o=i("YNA3"),s=1e3,c=60*s,r=60*c,u=24*r;var l=Object(n.b)("count-down"),d=l[0],h=l[1];e.a=d({props:{millisecond:Boolean,time:{type:Number,default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},data:function(){return{remain:0}},computed:{timeData:function(){return t=this.remain,{days:Math.floor(t/u),hours:Math.floor(t%u/r),minutes:Math.floor(t%r/c),seconds:Math.floor(t%c/s),milliseconds:Math.floor(t%s)};var t},formattedTime:function(){return t=this.format,e=this.timeData,i=e.days,n=e.hours,a=e.minutes,s=e.seconds,c=e.milliseconds,-1===t.indexOf("DD")?n+=24*i:t=t.replace("DD",Object(o.b)(i)),-1===t.indexOf("HH")?a+=60*n:t=t.replace("HH",Object(o.b)(n)),-1===t.indexOf("mm")?s+=60*a:t=t.replace("mm",Object(o.b)(a)),-1===t.indexOf("ss")?c+=1e3*s:t=t.replace("ss",Object(o.b)(s)),t.replace("SSS",Object(o.b)(c,3));var t,e,i,n,a,s,c}},watch:{time:{immediate:!0,handler:"reset"}},methods:{start:function(){this.counting||(this.counting=!0,this.endTime=Date.now()+this.remain,this.tick())},pause:function(){this.counting=!1,Object(a.a)(this.rafId)},reset:function(){this.pause(),this.remain=this.time,this.autoStart&&this.start()},tick:function(){this.millisecond?this.microTick():this.macroTick()},microTick:function(){var t=this;this.rafId=Object(a.c)(function(){t.setRemain(t.getRemain()),0!==t.remain&&t.microTick()})},macroTick:function(){var t=this;this.rafId=Object(a.c)(function(){var e,i,n=t.getRemain();e=n,i=t.remain,(Math.floor(e/1e3)!==Math.floor(i/1e3)||0===n)&&t.setRemain(n),0!==t.remain&&t.macroTick()})},getRemain:function(){return Math.max(this.endTime-Date.now(),0)},setRemain:function(t){this.remain=t,0===t&&(this.pause(),this.$emit("finish"))}},render:function(){return(0,arguments[0])("div",{class:h()},[this.slots("default",this.timeData)||this.formattedTime])}})},v4pe:function(t,e){}});