webpackJsonp([29],{BO1k:function(e,n,t){e.exports={default:t("fxRn"),__esModule:!0}},"Rx+/":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("//Fk"),c=t.n(o),s=t("Xxa5"),r=t.n(s),a=t("exGp"),d=t.n(a),l=t("BO1k"),u=t.n(l),h=t("bOdI"),f=t.n(h),p=(t("eqfM"),t("/QYm")),v=(t("k3b4"),t("+2ln")),k=t("PrNn"),C=t.n(k),m=t("DEHg"),y={components:(i={},f()(i,v.a.name,v.a),f()(i,p.a.name,p.a),f()(i,"TreeNode",function(e){return new Promise(function(e){e()}).then(function(){var n=[t("Rx+/")];e.apply(null,n)}.bind(this)).catch(t.oe)}),i),data:function(){return{iconSize:"0.5rem",style:{paddingLeft:""},vals:[]}},props:{node:{type:[Object],default:function(){return{}}},val:{type:[String],default:function(){return""}},ids:{type:[Array],default:function(){return[]}},level:{type:[Number],default:function(){return 1}},selectType:{type:[Number],default:function(){return 1}},tree:{type:[Array],default:function(){return[]}}},methods:{changeStatus:function(e){e&&(e.close?e.close=!1:e.close=!0)},changeStatusAndLoadData:function(e){e.children&&0!==e.children.length||Object(m.d)({deptId:e.id}).then(function(n){n&&n.success?n.data.rows.forEach(function(n){e.children.push({id:n.userId,text:n.name,leaf:!0,parentId:e.id,children:[],userNode:!0,close:!0,isChecked:!1}),e.children.length>0&&(e.leaf=!1)}):p.a.fail("获取数据失败！")}),e&&(e.close=!e.close)},setChildrensRole:function(e,n){var t=this;null!==e.children&&e.children.length>0&&e.children.forEach(function(e,i){e.isChecked=n,null!==e.children&&t.setChildrensRole(e,n)})},setFatherStatus:function(e,n,t){this.treeFindPath(e,function(e){return e.id===n},t)},treeFindPath:function(e,n,t){if(e){var i=!0,o=!1,c=void 0;try{for(var s,r=u()(e);!(i=(s=r.next()).done);i=!0){var a=s.value;if(a.close=t,n(a))return;if(a.children){var d=this.treeFindPath(a.children,n,t);if(d&&d.length)return d}}}catch(e){o=!0,c=e}finally{try{!i&&r.return&&r.return()}finally{if(o)throw c}}return[]}},nodeClick:function(e){e.isChecked=!e.isChecked,this.setChildrensRole(e,e.isChecked)},nodeClickAndLoadData:function(){var e=d()(r.a.mark(function e(n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isChecked=!n.isChecked,n.children=[],e.next=4,this.getList(n.id);case 4:e.sent.forEach(function(e){n.children.push({id:e.userId,text:e.name,leaf:!0,parentId:n.id,children:[],userNode:!0,close:!0,isChecked:!0})}),n.children.length>0&&(n.leaf=!1);case 7:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),getList:function(e){return new c.a(function(n,t){Object(m.d)({deptId:e}).then(function(e){e&&n(e.data.rows)}).catch(function(e){t(e)})})},removeItem:function(e){var n=C.a.from(this.vals).indexOf(e);this.vals=this.vals.splice(n,1,0)},push:function(e){this.$emit("push",e)},remove:function(e){this.$emit("remove",e)},setCheckedItem:function(e){e.isChecked=!0,e.children&&e.children.length>0&&this.setChildrensRole(e,!0),e.parentId&&""!==e.parentId&&"1"!==e.parentId&&this.setFatherStatus(this.tree,e.id,!1)},scrollIntoLine:function(e){this.setCheckedItem(this.node),document.getElementById("node-"+e).scrollIntoView({block:"center"})}},watch:{"node.isChecked":{immediate:!0,handler:function(e){e?this.$emit("push",{id:this.node.id,text:this.node.text,userNode:this.node.userNode,roomNode:2===this.node.nodeType,leaf:0===this.node.children.length}):this.$emit("remove",{id:this.node.id,text:this.node.text,userNode:this.node.userNode,roomNode:2===this.node.nodeType,leaf:0===this.node.children.length})}}},created:function(){this.$set(this.node,"close",!this.node.close||this.node.close),this.$set(this.node,"isChecked",!!this.node.isChecked&&this.node.isChecked),this.level||(this.level=0),this.style.paddingLeft=10*this.level+"px"}},_={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("li",{staticClass:"treeList"},[t("div",{staticClass:"border",style:e.style},[t("div",{staticClass:"parentTree"},[4===e.selectType&&1===e.node.nodeType?t("span",[t("van-icon",{staticClass:"parentTree-icon",attrs:{name:"cluster-o",size:e.iconSize}}),e._v(" "),t("span",{staticClass:"parentTree-text",on:{click:function(n){return e.changeStatus(e.node)}}},[e._v(e._s(e.node.text))])],1):2===e.selectType?t("span",[e.node.isChecked?e._e():t("van-icon",{staticClass:"parentTree-icon",attrs:{name:"circle",size:e.iconSize},on:{click:function(n){return e.nodeClickAndLoadData(e.node)}}}),e._v(" "),e.node.isChecked?t("van-icon",{staticClass:"parentTree-icon",attrs:{name:"checked",size:e.iconSize,color:"#07C160"},on:{click:function(n){return e.nodeClick(e.node)}}}):e._e(),e._v(" "),t("span",{staticClass:"parentTree-text",on:{click:function(n){return e.nodeClick(e.node)}}},[e._v(e._s(e.node.text))])],1):t("span",[e.node.isChecked?e._e():t("van-icon",{staticClass:"parentTree-icon",attrs:{name:"circle",size:e.iconSize},on:{click:function(n){return e.nodeClick(e.node)}}}),e._v(" "),e.node.isChecked?t("van-icon",{staticClass:"parentTree-icon",attrs:{name:"checked",size:e.iconSize,color:"#07C160"},on:{click:function(n){return e.nodeClick(e.node)}}}):e._e(),e._v(" "),t("span",{staticClass:"parentTree-text",on:{click:function(n){return e.nodeClick(e.node)}}},[e._v(e._s(e.node.text))])],1),e._v(" "),2===e.selectType?t("div",[e.node.userNode?e._e():t("div",{staticClass:"closeli"},[e.node.close?e._e():t("van-icon",{attrs:{name:"arrow-up"},on:{click:function(n){return e.changeStatusAndLoadData(e.node)}}}),e._v(" "),e.node.close?t("van-icon",{attrs:{name:"arrow-down"},on:{click:function(n){return e.changeStatusAndLoadData(e.node)}}}):e._e()],1)]):e._e(),e._v(" "),2!==e.selectType?t("div",[e.node.children&&e.node.children.length>0?t("div",{staticClass:"closeli"},[e.node.close?e._e():t("van-icon",{attrs:{name:"arrow-up"},on:{click:function(n){return e.changeStatus(e.node)}}}),e._v(" "),e.node.close?t("van-icon",{attrs:{name:"arrow-down"},on:{click:function(n){return e.changeStatus(e.node)}}}):e._e()],1):e._e()]):e._e()])]),e._v(" "),e._l(e.node.children,function(n,i){return t("tree-node",{directives:[{name:"show",rawName:"v-show",value:!e.node.close,expression:"!node.close"}],key:i,ref:"children"+i,refInFor:!0,attrs:{id:"node-"+n.id,val:n.id,level:e.level+2,node:n,tree:e.tree,selectType:e.selectType},on:{push:e.push,remove:e.remove}})})],2)},staticRenderFns:[]};var x=t("VU/8")(y,_,!1,function(e){t("svMy")},"data-v-51295788",null);n.default=x.exports},fxRn:function(e,n,t){t("+tPU"),t("zQR9"),e.exports=t("g8Ux")},g8Ux:function(e,n,t){var i=t("77Pl"),o=t("3fs2");e.exports=t("FeBl").getIterator=function(e){var n=o(e);if("function"!=typeof n)throw TypeError(e+" is not iterable!");return i(n.call(e))}},svMy:function(e,n){}});