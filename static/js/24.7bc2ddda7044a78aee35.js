webpackJsonp([24],{g4vk:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t("XmAh");var a,i=t("il3B"),s=(t("eqfM"),t("/QYm")),c=t("bOdI"),o=t.n(c),r=(t("k3b4"),t("+2ln")),d=(t("FO5P"),t("woHG")),l=(t("3Lne"),t("SSsa")),u=(t("i0mo"),t("Hkar")),m=(t("mMXg"),t("qYlo")),v=(t("UuFX"),t("J1XP")),f=(t("MY4N"),t("0zAV")),g=t("CgFE"),b=t("GKmE"),h={components:(a={},o()(a,f.a.name,f.a),o()(a,v.a.name,v.a),o()(a,m.a.name,m.a),o()(a,u.a.name,u.a),o()(a,l.a.name,l.a),o()(a,d.a.name,d.a),o()(a,r.a.name,r.a),a),data:function(){return{showPwdInput:!1,meetingId:"",meetingPwd:"",userId:""}},methods:{cancelScan:function(){this.showPwdInput=!1},confirmScan:function(){this.validateMeeting(),this.showPwdInput=!1},onClickLeft:function(){this.$router.isBack=!0,this.$router.go(-1)},scanFn:function(){var n=this;cordova.plugins.barcodeScanner.scan(function(e){var t=e.text,a=t.lastIndexOf("=");n.meetingId=t.substr(a+1);var i={meetingId:n.meetingId,userId:n.userId,meetingPass:n.meetingPwd};Object(g.d)(i).then(function(e){e.success?n.validateMeeting():(Object(s.a)(e.message||"加入会议失败"),n.showPwdInput=!0)})},function(){i.a.alert({message:"扫描二维码失败"}).then(function(){})})},joinFn:function(){var n=this;cicdi.plugins.meeting.joinMeeting(function(){},function(e){i.a.confirm({message:e||"加入会议失败,是否重新加入"}).then(function(){n.joinFn()}).catch(function(){})},n.meetingId)},validateMeeting:function(){var n=this;if(""===this.meetingId)return Object(s.a)("请输入会议ID");var e={meetingId:this.meetingId,userId:this.userId,meetingPass:this.meetingPwd};Object(g.d)(e).then(function(e){e.success?n.joinFn():Object(s.a)(e.message||"加入会议失败")})}},mounted:function(){if(Object(b.e)("userInfo")){var n=JSON.parse(Object(b.d)("userInfo"));this.userId=n.id}}},p={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"join"},[t("van-nav-bar",{attrs:{"left-arrow":"",fixed:"",border:!1,"left-text":"加入会议"},on:{"click-left":n.onClickLeft}}),n._v(" "),t("div",{staticClass:"join-main"},[t("div",{staticClass:"join-main-scan"},[t("div",{on:{click:n.scanFn}},[t("van-icon",{staticClass:"iconfont",attrs:{color:"#3badfe",size:"0.6rem","class-prefix":"icon",name:"scan"}}),n._v(" "),t("span",{staticStyle:{"vertical-align":"top"}},[n._v("扫一扫直接加入会议")]),n._v(" "),t("van-icon",{attrs:{name:"arrow"}})],1)]),n._v(" "),t("div",{staticClass:"join-main-item"},[t("van-cell-group",{attrs:{border:!1}},[t("van-field",{staticClass:"border",attrs:{"input-align":"center",clearable:"",placeholder:"请输入您要加入的会议ID"},model:{value:n.meetingId,callback:function(e){n.meetingId=e},expression:"meetingId"}}),n._v(" "),t("van-field",{staticClass:"border",attrs:{"input-align":"center",type:"password",clearable:"",placeholder:"若会议加密,请输入密码"},model:{value:n.meetingPwd,callback:function(e){n.meetingPwd=e},expression:"meetingPwd"}})],1)],1),n._v(" "),t("div",{staticClass:"join-main-btn"},[t("van-button",{staticClass:"common-btn",attrs:{round:""},on:{click:n.validateMeeting}},[n._v("加入会议")])],1)]),n._v(" "),t("van-overlay",{attrs:{show:n.showPwdInput}},[t("div",{staticClass:"join-modal"},[t("van-cell-group",[t("van-field",{staticClass:"border",attrs:{type:"password","input-align":"center",clearable:"",placeholder:"此次加密会议,请输入密码"},model:{value:n.meetingPwd,callback:function(e){n.meetingPwd=e},expression:"meetingPwd"}})],1),n._v(" "),t("div",{staticClass:"join-modal-btn"},[t("div",{on:{click:n.confirmScan}},[n._v("\n          确认\n        ")]),n._v(" "),t("div",{on:{click:n.cancelScan}},[n._v("\n          取消\n        ")])])],1)])],1)},staticRenderFns:[]};var I=t("VU/8")(h,p,!1,function(n){t("he+Z")},"data-v-17b38c0b",null);e.default=I.exports},"he+Z":function(n,e){}});