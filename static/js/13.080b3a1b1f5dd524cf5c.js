webpackJsonp([13],{A7rC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("XmAh");var n=a("il3B"),i=(a("eqfM"),a("/QYm")),s=a("bOdI"),c=a.n(s),r=(a("k3b4"),a("+2ln")),o=(a("nsZj"),a("yU4Z"),a("AA6R")),l=a.n(o),d=a("o69Z"),m=a("V+2B"),u={value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1},size:{type:String,default:"30px"}},v=a("rhik"),g=a("pIDD"),h=Object(d.b)("switch"),f=h[0],p=h[1];function b(e,t,a,n){var i=t.size,s=t.value,c=t.loading,r=t.disabled,o=t.activeColor,d=t.activeValue,u=t.inactiveColor,h=t.inactiveValue,f=s===d,b={fontSize:i,backgroundColor:f?o:u},w=f?o||m.a:u||m.h;return e("div",l()([{class:p({on:f,disabled:r}),attrs:{role:"switch","aria-checked":String(f)},style:b,on:{click:function(){if(!r&&!c){var e=f?h:d;Object(v.a)(n,"input",e),Object(v.a)(n,"change",e)}}}},Object(v.b)(n)]),[e("div",{class:p("node")},[c&&e(g.a,{class:p("loading"),attrs:{color:w}})])])}b.props=u;var w,C=f(b),O=(a("FO5P"),a("woHG")),y=(a("3Lne"),a("SSsa")),j=(a("nOaS"),a("UuFX"),a("J1XP")),I=(a("i0mo"),a("Hkar")),P=(a("MY4N"),a("0zAV")),_=a("BfUi"),k=a("GKmE"),M=a("CgFE"),S={components:(w={},c()(w,P.a.name,P.a),c()(w,I.a.name,I.a),c()(w,j.a.name,j.a),c()(w,g.a.name,g.a),c()(w,y.a.name,y.a),c()(w,O.a.name,O.a),c()(w,C.name,C),c()(w,r.a.name,r.a),w),data:function(){return{userId:"",userName:"",theme:"",meetingID:"12364433",meetingPwd:"",size:"0.7rem",showOverlay:!1,openCamera:!1,hasPassword:!1,openMic:!1}},methods:{onClickLeft:function(){this.$router.isBack=!0,this.$router.go(-1)},recordOnlineCreate:function(){var e={theme:this.theme,meetingId:this.meetingID,meetingPass:this.hasPassword?this.meetingPwd:"",creatorId:this.userId,creatorName:this.userName,date:Object(k.c)(Date.now(),"date"),startTime:Object(k.c)(Date.now(),"dateTime"),meetingType:1};Object(M.b)(e).then(function(e){e.success||Object(i.a)(e.message||"记录召开会议失败")})}},mounted:function(){var e=this;if(setTimeout(function(){e.recordOnlineCreate()},1e3),Object(k.e)("userInfo")){var t=JSON.parse(Object(k.d)("userInfo"));this.userName=t.name,this.userId=t.id,this.theme=t.name+"的即时会议"}else this.theme="即时会议";var a=this,s={topic:a.theme,meetingType:1,initEvt:function(){document.querySelector("#createMeetingBtn").addEventListener("click",s.createMeeting)},createMeeting:function(){if(_.b.sdkInit){a.showOverlay=!0;var e={topic:s.topic,meetingType:s.meetingType};cicdi.plugins.meeting.createMeeting(function(e){a.recordOnlineCreate(),a.showOverlay=!1,s.meetingId=e,a.meetingID=e,s.joinMeeting()},function(e){n.a.confirm({message:e||"创建会议失败,是否重新创建"}).then(function(){s.createMeeting()}).catch(function(){})},e)}else Object(i.a)("当前SDK尚未初始化,请重新登录c-me")},joinMeeting:function(){var e={meetingId:s.meetingId,userId:a.userId,meetingPass:a.hasPassword?a.meetingPwd:""},t={meetingId:s.meetingId,password:a.hasPassword?a.meetingPwd:""};Object(M.d)(e).then(function(e){e.success?cicdi.plugins.meeting.joinMeeting(function(){},function(e){n.a.confirm({message:e||"加入会议失败,是否重新加入"}).then(function(){s.joinMeeting()}).catch(function(){})},t):Object(i.a)(e.message||"加入会议失败")})}};s.initEvt()}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create"},[a("van-nav-bar",{attrs:{"left-arrow":"",fixed:"",border:!1,"left-text":"返回"},on:{"click-left":e.onClickLeft}}),e._v(" "),a("div",{staticClass:"create-main"},[a("div",{staticClass:"create-main-item border"},[a("span",[e._v("打开视频")]),e._v(" "),a("van-switch",{attrs:{size:e.size},model:{value:e.openCamera,callback:function(t){e.openCamera=t},expression:"openCamera"}})],1),e._v(" "),a("div",{staticClass:"create-main-item border"},[a("span",[e._v("打开麦克风")]),e._v(" "),a("van-switch",{attrs:{size:e.size},model:{value:e.openMic,callback:function(t){e.openMic=t},expression:"openMic"}})],1),e._v(" "),a("div",{staticClass:"create-main-item border"},[a("span",[e._v("是否加密")]),e._v(" "),a("van-switch",{attrs:{size:e.size},model:{value:e.hasPassword,callback:function(t){e.hasPassword=t},expression:"hasPassword"}})],1),e._v(" "),e.hasPassword?a("div",{staticClass:"create-main-item border"},[a("van-cell-group",{staticStyle:{width:"100%"}},[a("van-field",{attrs:{clearable:"",placeholder:"请输入会议密码"},model:{value:e.meetingPwd,callback:function(t){e.meetingPwd=t},expression:"meetingPwd"}})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"create-main-btn"},[a("van-button",{staticClass:"common-btn",attrs:{round:"",id:"createMeetingBtn"}},[e._v("召开会议")])],1)]),e._v(" "),a("van-overlay",{staticClass:"create-overlay",attrs:{show:e.showOverlay}},[a("div",{staticClass:"wrapper"},[a("van-loading",{attrs:{color:"#eee",vertical:""}},[a("span",{staticStyle:{color:"#eee"}},[e._v("正在创建视频会议")])])],1)])],1)},staticRenderFns:[]};var x=a("VU/8")(S,z,!1,function(e){a("y43j")},"data-v-90d8bd04",null);t.default=x.exports},y43j:function(e,t){},yU4Z:function(e,t){}});