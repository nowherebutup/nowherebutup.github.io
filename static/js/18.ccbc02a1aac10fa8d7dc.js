webpackJsonp([18],{Nwnv:function(t,e){},ZvbC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("eqfM");var i,a=n("/QYm"),s=(n("XmAh"),n("il3B")),c=n("bOdI"),o=n.n(c),r=(n("3Lne"),n("SSsa")),l=(n("MY4N"),n("0zAV")),m=(n("i0mo"),n("Hkar")),d=(n("UuFX"),n("J1XP")),v=(n("k3b4"),n("+2ln")),u=n("GKmE"),f=n("irbH"),g=n("CgFE"),h={components:(i={},o()(i,v.a.name,v.a),o()(i,d.a.name,d.a),o()(i,m.a.name,m.a),o()(i,l.a.name,l.a),o()(i,r.a.name,r.a),i),data:function(){return{userId:JSON.parse(Object(u.d)("userInfo")).id,rightShow:!1,showPwdInput:!1,meetingPwd:"",meetingList:[]}},methods:{toNotice:function(){this.$router.push({path:"/meeting/notice",query:{}})},scanFn:function(){var t=this;cordova.plugins.barcodeScanner.scan(function(e){var n=e.text,i=n.lastIndexOf("="),a=n.substr(i+1);t.joinFn(a)},function(){s.a.alert({message:"扫描二维码失败"}).then(function(){})})},initList:function(){var t=this;Object(g.a)({}).then(function(e){if(e.success){var n=t.meetingList;n.splice(0,n.length),e.data.forEach(function(t){n.push(t)})}else Object(a.a)("获取会议列表失败")})},cancelScan:function(){this.showPwdInput=!1},confirmScan:function(){this.joinFn(),this.showPwdInput=!1},joinFn:function(t){var e=this,n={meetingId:t,userId:e.userId,meetingPass:e.meetingPwd};Object(g.d)(n).then(function(n){if(n.success){var i={meetingId:t,password:e.meetingPwd};cicdi.plugins.meeting.joinMeeting(function(){},function(t){s.a.confirm({message:t||"加入会议失败,是否重新加入"}).then(function(){e.joinFn(i)}).catch(function(){})},i)}else Object(a.a)(n.message||"加入会议失败"),e.showPwdInput=!0})},toShare:function(t){var e=JSON.parse(Object(u.d)("userInfo")).name;s.a.confirm({message:"是否分享到微信好友"}).then(function(){Wechat.share({text:"会议邀请:"+e+"的会议,会议ID:"+t.id+",会议密码:,时间:"+t.date+"，\n          届时参加请立即进入C-me APP【C-me】",scene:Wechat.Scene.TIMELINE},function(){},function(t){Object(a.a)("分享失败: "+t)})}).catch(function(){})},toMeetingDetail:function(t){this.$router.push({path:"/meeting/mine/detail",query:{meetingId:t.meetingId}})},toCreate:function(){this.$router.push({path:"/meeting/create",query:{}})},toJoin:function(){this.$router.push({path:"/meeting/join",query:{}})},toBooking:function(){this.$router.push({path:"/meeting/booking",query:{}})},toMine:function(){this.$router.push({path:"/meeting/mine",query:{}})}},mixins:[f.a],created:function(){this.initList()}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"meeting"},[n("div",{staticClass:"meeting-header"},[n("span",{staticClass:"meeting-header-title"},[t._v("视频会议")]),t._v(" "),n("div",{staticClass:"meeting-header-quick"},[n("van-icon",{staticClass:"iconfont",staticStyle:{margin:"0 0.2rem"},attrs:{"class-prefix":"icon",name:"scan"},on:{click:t.scanFn}})],1)]),t._v(" "),n("div",{staticClass:"meeting-row"},[n("div",{staticClass:"meeting-col meeting-create",on:{click:t.toCreate}},[n("div",{staticClass:"meeting-col-img-div1"}),t._v(" "),n("div",[t._v("\n        召开会议\n      ")])]),t._v(" "),n("div",{staticClass:"meeting-col meeting-join",on:{click:t.toJoin}},[n("div",{staticClass:"meeting-col-img-div2"}),t._v(" "),n("div",[t._v("\n        加入会议\n      ")])]),t._v(" "),n("div",{staticClass:"meeting-col meeting-predict",on:{click:t.toBooking}},[n("div",{staticClass:"meeting-col-img-div3"}),t._v(" "),n("div",[t._v("\n        预约会议\n      ")])])]),t._v(" "),n("div",{staticClass:"meeting-list"},[t._l(t.meetingList,function(e,i){return n("div",{key:i,staticClass:"mine-item"},[n("div",{staticClass:"mine-item-left"},[1===e.type?n("div",{staticClass:"mine-item-blue"}):t._e(),t._v(" "),2===e.type?n("div",{staticClass:"mine-item-red"}):t._e(),t._v(" "),t.rightShow?n("van-checkbox",{attrs:{"checked-color":"#f00"},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}}):t._e()],1),t._v(" "),n("div",{staticClass:"mine-item-right"},[n("div",{staticClass:"mine-item-title"},[t._v(t._s(e.theme))]),t._v(" "),n("div",{staticClass:"mine-item-id"},[t._v("会议ID: "+t._s(e.id))]),t._v(" "),n("div",[t._v("会议日期: "+t._s(e.date))]),t._v(" "),n("div",{staticClass:"mine-item-operate"},[n("van-button",{attrs:{round:"",size:"small"},on:{click:function(n){return t.toShare(e)}}},[n("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",color:1===e.type?"#54afff":"#0ab2bd",name:"fenxiang"}}),t._v(" "),n("span",[t._v("分享")])],1),t._v(" "),n("van-button",{staticStyle:{"margin-left":"0.5rem"},attrs:{round:"",size:"small"},on:{click:function(n){return t.toMeetingDetail(e)}}},[n("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",color:1===e.type?"#54afff":"#0ab2bd",name:"xiangqing"}}),t._v(" "),n("span",[t._v("查看详情")])],1)],1),t._v(" "),1===e.type?n("div",{staticClass:"mine-item-tip1",on:{click:function(n){return t.joinFn(e.meetingId)}}},[n("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",color:"#fff",name:"begin"}})],1):t._e(),t._v(" "),2===e.type?n("div",{staticClass:"mine-item-tip2",on:{click:function(n){return t.joinFn(e.meetingId)}}},[n("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",color:"#fff",name:"begin"}})],1):t._e()])])}),t._v(" "),0===t.meetingList.length?n("div",{staticClass:"mine-empty"},[t._v("\n      暂无会议~\n    ")]):t._e()],2),t._v(" "),n("van-overlay",{attrs:{show:t.showPwdInput}},[n("div",{staticClass:"meeting-modal"},[n("van-cell-group",[n("van-field",{staticClass:"border",attrs:{type:"password","input-align":"center",clearable:"",placeholder:"此次加密会议,请输入密码"},model:{value:t.meetingPwd,callback:function(e){t.meetingPwd=e},expression:"meetingPwd"}})],1),t._v(" "),n("div",{staticClass:"meeting-modal-btn"},[n("div",{on:{click:t.confirmScan}},[t._v("\n          确认\n        ")]),t._v(" "),n("div",{on:{click:t.cancelScan}},[t._v("\n          取消\n        ")])])],1)])],1)},staticRenderFns:[]};var _=n("VU/8")(h,p,!1,function(t){n("Nwnv")},"data-v-bbe37b36",null);e.default=_.exports}});